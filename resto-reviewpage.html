<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="assets/tab-icon.png" type="image/x-icon">
    <title>Review Restaurant</title>
    <script src="script/general.js"></script>
    <script src="script/navbar.js"></script>
    <script src="script/like.js"></script>
    <script src="script/slider.js"></script>
    <link rel="stylesheet" href="styles/resto-reviewpage.css">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
</head>
<body>
    <header>
        <a class="logo-link" onclick="transferSession('index.html')">
            <img src="assets/logo.png" alt="Biteboxd Logo" class="logo">
        </a>
        
        <a class="nav-icon-container" onclick="transferSession('index.html')">
            <img src="assets/home.svg" alt="" class="nav-icon">
            <p>Home</p>
        </a>
        
        <a class="nav-icon-container" onclick="transferSession('explore.html')">
            <img src="assets/explore.svg" alt="" class="nav-icon">
            <p>Explore</p>
        </a>

        <a class="nav-icon-container" onclick="transferSession('all.html')">
            <img src="assets/archive.svg" alt="" class="nav-icon">
            <p>All</p>
        </a>

        <a href="login.html" class="nav-icon-container" id="person-icon">
            <img src="assets/person.svg" alt="" class="nav-icon">
            <p>Accounts</p>
        </a>
        
        <div class="account-icon" id="account-icon" onclick="togglePopup()">
            <img src="assets/profile.jpg" alt="" class="profile-icon">
        </div>
        
        <div class="popup-container" id="popupContainer" style="display: none;">
            <div class="popup" id="popup">
                <a href="#" onclick="transferSession('own-profile.html')">View Profile</a>
                <a href="#" onclick="viewProfile()">Edit Profile</a>
                <a href="#" onclick="logOut()">Log Out</a>
            </div>
        </div>        
    </header>

    <main class = "main">

        <div class="search-container">
            <img src="assets/search-icon.svg" alt="" class="search-icon">
            <input type="search" class="search-bar" placeholder="Find a review on Bacsilog Hub">
            <button class="search-button">
                Search
            </button>

        </div>
        <div class="restoinfo">
            <div class="restopicturearea">
                <img src="assets/bacsi.jpg" alt="Picture" class="restopicture">
            </div>
            <div class="restodetailsarea">
                <div class="nameandoverallscore">
                    <h1>Bacsilog Hub</h1>
                    <h2 class="dot">¬∑</h2>
                    <h2 class="yellowscore">4.0/5</h2>
                </div>
                <div class="moredetails">
                    <h3>üíµüíµ</h3>
                    <h3 class="dot">¬∑</h3>
                    <h3>Filipino</h3>
                    <h3 class="dot">¬∑</h3>
                    <h3>Fastfood</h3>
                </div>
                <h4>Vito Cruz, Metro Manila, Philippines</h4>
                <br>
                <div class="attributes">

                    <div class="firstbatchattri">
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Offers Delivery</h4></div>
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Outdoor dining</h4></div>
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Indoor dining</h4></div>
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Good for Groups</h4></div>
                    </div>

                    <div class="secondbatchattri">
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Music and TV</h4></div>
                        <div class="feature"><span class="cross">&#10008;</span><h4>Drive-thru</h4></div>
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Offers Takeout</h4></div>
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Accepts Credit Cards</h4></div>
                    </div>
                    
                    <div class="thirdbatchattri">
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Accepts E-Wallet</h4></div>
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Good for Kids</h4></div>
                        <div class="feature"><span class="cross">&#10008;</span><h4>Good for Pets</h4></div>
                        <div class="feature"><span class="checkmark">&#10004;</span><h4>Vegetarian/Vegan Offerings</h4></div>
                    </div>

                </div>
            </div>
        </div>

        <div class="reviewarea">

            <div class="reviewheader">
                <h1>Reviews</h1>
            </div>

            <br>

            <div class="publishrevarea" >

                <div class="cannot-publish" id="cannot-publish">
                    <a href="login.html">Log in to leave a review</a>
                </div>

                <div class="publishreview" id="publishreview">
                    
                    <div class="criteriaratearea">
                        <div class="criteriarate">
                            <h3 class="criterialbl">Food Quality</h3>
                            <div class="star-sorting" data-criterion="food">
                                <span onclick="addRating(0, 1)" class="slider-emoji-rating slider-food-rating">üçó</span>
                                <span onclick="addRating(0, 2)" class="slider-emoji-rating slider-food-rating">üçó</span>
                                <span onclick="addRating(0, 3)" class="slider-emoji-rating slider-food-rating">üçó</span>
                                <span onclick="addRating(0, 4)" class="slider-emoji-rating slider-food-rating">üçó</span>
                                <span onclick="addRating(0, 5)" class="slider-emoji-rating slider-food-rating">üçó</span>
                            </div>
                        </div>

                        <div class="criteriarate">
                            <h3 class="criterialbl">Service</h3>
                            <div class="star-sorting" data-criterion="service">
                                <span onclick="addRating(1, 1)" class="slider-emoji-rating slider-service-rating">ü§ù</span>
                                <span onclick="addRating(1, 2)" class="slider-emoji-rating slider-service-rating">ü§ù</span>
                                <span onclick="addRating(1, 3)" class="slider-emoji-rating slider-service-rating">ü§ù</span>
                                <span onclick="addRating(1, 4)" class="slider-emoji-rating slider-service-rating">ü§ù</span>
                                <span onclick="addRating(1, 5)" class="slider-emoji-rating slider-service-rating">ü§ù</span>
                            </div>
                        </div>

                        <div class="criteriarate">
                            <h3 class="criterialbl">Price</h3>
                            <div class="star-sorting" data-criterion="price">
                                <span onclick="addRating(2, 1)" class="slider-emoji-rating slider-price-rating">üíµ</span>
                                <span onclick="addRating(2, 2)" class="slider-emoji-rating slider-price-rating">üíµ</span>
                                <span onclick="addRating(2, 3)" class="slider-emoji-rating slider-price-rating">üíµ</span>
                                <span onclick="addRating(2, 4)" class="slider-emoji-rating slider-price-rating">üíµ</span>
                                <span onclick="addRating(2, 5)" class="slider-emoji-rating slider-price-rating">üíµ</span>
                            </div>
                        </div>
                        
                    </div>

                    <div class="title-container">
                        <textarea id="title" class="textbox" rows="1" placeholder="Title"></textarea>
                    </div>

                    <br>
                    
                    <div id="editor">
                    </div>
                    
                    <div class="photo-upload">
                        <label for="photo-input">Upload up to 4 photos:</label>
                        <input type="file" id="photo-input" name="photos" accept="image/*" multiple>
                    </div>
                
                    <div class="photo-container" id="photo-container">

                    </div>

                    <div class="alignpublishbutton">
                        <button class="publish-button" id="publishBtn">Publish</button>
                    </div>
                </div>
            </div>
            <script>
                const priceSlider = new Slider(document.getElementsByClassName('slider-price-rating'))
                const foodQualitySlider = new Slider(document.getElementsByClassName('slider-food-rating'))
                const serviceSlider = new Slider(document.getElementsByClassName('slider-service-rating'))
                priceSlider.initializeHover();
                foodQualitySlider.initializeHover();
                serviceSlider.initializeHover();
            </script>
            <script src="script/resto-reviewpage.js"></script>
            <hr>

            <div class="publishedrevarea">
                <div class="review">

                    <div class="rate-review" id="likeDislikeButtons">
                        <div class="likeset">
                            <button class="like-dislike" id="like">&#128077;</button>
                            <button class="like-dislike" id="dislike">&#128078;</button>
                        </div>
                    </div>

                    <div class="profile-title">
                        <div class="profilearea">
                            <img src="assets/cbsisig.jpg" class="profilepic">
                        </div>
                        <div class="titlearea">
                            <h2 class="titlearea">Good meal but one try is enough!</h2>
                        </div>
                    </div>

                    <div class="score-username">
                        <div class="score">
                            <h2 class="yellowscore">4.6</h2>
                        </div>
                        <div class="nametitle">
                            <h4 class="nameandtime">makoeats ¬∑ February 12, 2024 8:01 am</h4>
                        </div>
                    </div>

                    <div class="criteriaratings">
                        <div class="criteriascore">
                            <h4 class="criteria">Food Quality</h4>
                            <div class="stars">
                                <span>üçó</span>
                                <span>üçó</span>
                                <span>üçó</span>
                                <span>üçó</span>
                            </div>
                        </div>

                        <div class="criteriascore">
                            <h4 class="criteria">Service</h4>
                            <div class="stars">
                                <span>ü§ù</span>
                                <span>ü§ù</span>
                                <span>ü§ù</span>
                            </div>
                        </div>

                        <div class="criteriascore">
                            <h4 class="criteria">Price</h4>
                            <div class="stars">
                                <span>üíµ</span>
                                <span>üíµ</span>
                                <span>üíµ</span>
                                <span>üíµ</span>
                            </div>
                        </div>
                    </div>

                    <div class="reviewbody">
                        <p id="longtext">Sed euismod pellentesque sapien, quis dapibus nulla aliquet viverra. Nullam magna lorem, scelerisque ac condimentum et, mattis placerat nulla. Integer sit amet rutrum est. Maecenas urna erat, blandit eu ultrices vel, sagittis et ex. Integer a elit sagittis, elementum est eu, consectetur arcu. Cras ornare turpis id lacus.</p>
                    
                    </div>
                
                <div class="photopanel">
                    <img src="assets/cbsisig.jpg" class="revpic">
                    <img src="assets/cbsisig.jpg" class="revpic">
                    <img src="assets/bacsi.jpg" class="revpic">
                    <img src="assets/bacsi.jpg" class="revpic">
                </div>
            </div>
    </main>
    <script>
        
        const likesets = document.getElementsByClassName('likeset');
        const likes = []
        // console.log(likeDislikeButtons)


        Array.from(likesets).forEach(likeset => {
            let likeButton = likeset.querySelector('#like');
            let dislikeButton = likeset.querySelector('#dislike');
            likes.push(new Like(likeButton, dislikeButton))
        });

        
        Array.from(likes).forEach(like => {
            like.initializeClick();
        });


        console.log(likes)
        adjustNavBar();
        detectLogin();
    </script>
    
</body>
</html>